# .progress = list(type = "text", interval = 1), # for a progress bar
fireNULL = list(startTime = 1,
returnInterval = 1,
doAgeMapping = FALSE,
.statsInitialTime = 1
),
initBaseMaps = list(),
fireDataPrep = list()
)
modules <- list("initBaseMaps","fireDataPrep","fireNull")
objects <- list(LCC05X=LCC05,shpStudyRegionX=shpStudyRegion)
paths <- list(
cachePath = file.path(outputDir, "cache"),
modulePath = file.path("."), #SGC: is this really a sensible default?
inputPath = inputDir,
outputPath = outputDir
)
mySim <- simInit(times = times, params = parameters, modules = modules,
objects = objects, paths = paths)
#nxtSim<-spades(mySim)
spades(mySim)
Q
mySim$LCC05
??memory
ncell(mySim$LCC05)
inMemory(mySim$LCC05)
?readAll
library(igraph)
library(rgdal)
library(raster)
library(magrittr)
library(SpaDES)
baseDir<-file.path("~","Dropbox","SpaDES","Data")
LCC05 <-SpaDES::rasterToMemory(file.path(baseDir,
"LandCoverOfCanada2005_V1_4",
"LCC2005_V1_4a.tif")
)
foo<-path.expand(file.path(baseDir,"LandWEB","shp")) #somebody does not like ~s
shpStudyRegion <- readOGR(foo,"shpLandweb")
shpStudyRegion$fireReturnInterval <- shpStudyRegion$LTHRC #because of course it does.
rm(foo)
inputDir <- file.path(tempdir(), "inputs") %>% checkPath(create = TRUE)
outputDir <- file.path(tempdir(), "outputs")
times <- list(start = 0, end = 10)
parameters <- list(
# .progress = list(type = "text", interval = 1), # for a progress bar
fireNULL = list(startTime = 1,
returnInterval = 1,
doAgeMapping = FALSE,
.statsInitialTime = 1
),
initBaseMaps = list(),
fireDataPrep = list()
)
modules <- list("initBaseMaps","fireDataPrep","fireNull")
objects <- list(LCC05X=LCC05,shpStudyRegionX=shpStudyRegion)
paths <- list(
cachePath = file.path(outputDir, "cache"),
modulePath = file.path("."), #SGC: is this really a sensible default?
inputPath = inputDir,
outputPath = outputDir
)
mySim <- simInit(times = times, params = parameters, modules = modules,
objects = objects, paths = paths)
#nxtSim<-spades(mySim)
spades(mySim)
inMemory(sim$LCC05X)
inMemory(sim$LCC05)
sim$LCC05[]<-sim$LCC05[]
inMemory(sim$LCC05)
mySim <- simInit(times = times, params = parameters, modules = modules,
objects = objects, paths = paths)
spades(mySim)
inMemory(sim$rstBurnProb)
Plot(sim$rstBurnProb)
ncell(sim$rstBurnProb)
sim$rstBurnProb
sim$LCC05
Plot(sim$rstBurnProb)
Plot(sim$rstBurnProb,new=TRUE)
N
N
N<-sum(!is.na(sim$rstBurnProb[]))
N<-N-length(which(sim$rstBurnProb[]==1))
N
sim$nBurnableCells<-N
length(sim$burnLoci)
library(igraph)
library(rgdal)
library(raster)
library(magrittr)
library(SpaDES)
baseDir<-file.path("~","Dropbox","SpaDES","Data")
LCC05 <-SpaDES::rasterToMemory(file.path(baseDir,
"LandCoverOfCanada2005_V1_4",
"LCC2005_V1_4a.tif")
)
foo<-path.expand(file.path(baseDir,"LandWEB","shp")) #somebody does not like ~s
shpStudyRegion <- readOGR(foo,"shpLandweb")
shpStudyRegion$fireReturnInterval <- shpStudyRegion$LTHRC #because of course it does.
rm(foo)
inputDir <- file.path(tempdir(), "inputs") %>% checkPath(create = TRUE)
outputDir <- file.path(tempdir(), "outputs")
tmpDir <- file.path("/tmp","SpaDES") %>% checkPath(create=TRUE)
times <- list(start = 0, end = 10)
parameters <- list(
# .progress = list(type = "text", interval = 1), # for a progress bar
fireNULL = list(startTime = 1,
returnInterval = 1,
doAgeMapping = FALSE,
.statsInitialTime = 1
),
initBaseMaps = list(),
fireDataPrep = list()
)
modules <- list("initBaseMaps","fireDataPrep","fireNull")
objects <- list(LCC05X=LCC05,shpStudyRegionX=shpStudyRegion)
paths <- list(
cachePath = file.path(tmpDir, "cache"),
modulePath = file.path("."), #SGC: is this really a sensible default?
inputPath = inputDir,
outputPath = outputDir
)
mySim <- simInit(times = times, params = parameters, modules = modules,
objects = objects, paths = paths)
#nxtSim<-spades(mySim)
spades(mySim)
library(igraph)
library(rgdal)
library(raster)
library(magrittr)
library(SpaDES)
newModule("fire0")
setwd("..")
newModul("fireNull")
newModule("fireNull")
getwd()
getwd()
library("SpaDES")
source('F:/luo chen Eliot/NCC/Rd6/Figure 2 SpatioTemporalAGB.R')
file.path(workingPath, "NCC", "Rd6", "Figure 2.png")
source('F:/luo chen Eliot/NCC/Rd6/Figure 1 plot locations.R')
ggsave(file = file.path(workingPath, "NCC", "Rd6", "Figure 1.png"), a,
width = 9, height = 15)
source('F:/luo chen Eliot/NCC/Rd6/Figure 3 SpatialClimateSensitivity.R')
source('F:/luo chen Eliot/NCC/Rd6/Figure 3 SpatialClimateSensitivity.R')
source('F:/luo chen Eliot/NCC/Rd6/Figure 3 SpatialClimateSensitivity.R')
source('F:/luo chen Eliot/NCC/Rd6/Figure 3 SpatialClimateSensitivity.R')
library(SpaDES)
?SpaDES
